{"version":3,"sources":["AppRoute.js","Auth.js","components/Error.js","components/Avatar.js","assets/avatar.png","components/chat/ContactHeader.js","components/chat/Contact.js","components/chat/Contacts.js","components/chat/ChatHeader.js","components/chat/Message.js","components/chat/Messages.js","components/chat/MessageForm.js","components/side/UserProfile.js","components/side/EditProfile.js","views/Chat.js","views/NotFound.js","assets/HangOut.png","views/Register.js","views/Login.js","views/Password.js","App.js","reportWebVitals.js","index.js"],"names":["AppRoute","Component","component","can","redirect","rest","render","props","to","Auth","login","user","localStorage","setItem","JSON","stringify","axios","defaults","headers","common","token","init","parse","getItem","auth","guest","logout","removeItem","getToken","setUser","newProfile","Error","error","Alert","color","Avatar","src","file","className","alt","ContactHeader","Row","avatar","onClick","toggle","Contact","contact","status","name","message","content","moment","date","format","unseen","Badge","Contacts","state","search","onSearch","e","setState","target","value","renderContact","index","includes","messages","filter","sender","_id","receiver","lastMessage","length","seen","onChatNavigate","bind","Input","onChange","this","placeholder","id","contacts","map","React","withRouter","typing","fromNow","Nav","navbar","UncontrolledDropdown","DropdownToggle","tag","DropdownMenu","DropdownItem","history","push","divider","console","log","Message","outgoing","Messages","renderMessage","MessageForm","lastType","onSend","Date","getTime","onKeyDown","key","shiftKey","sendType","preventDefault","type","rows","UserProfile","open","about","EditProfile","showFileUpload","fileUpload","current","click","onImageChange","files","image","URL","createObjectURL","onSubmit","data","FormData","append","post","then","res","window","location","reload","catch","err","onClose","createRef","Form","ref","required","autoComplete","Button","block","Chat","userProfile","profile","initSocketConnection","socket","socketIO","process","React_APP_SOCKET","query","on","connected","users","updateUsersState","onNewUser","onUpdateUser","onNewMessage","onTypingMessage","concat","forEach","element","emit","clearTimeout","timeout","setTimeout","typingTimeout","sendMessage","userProfileToggle","profileToggle","renderChat","Spinner","NotFound","Register","username","password","response","Card","Logo","width","autoFocus","getFullYear","Login","Password","newPassword","logo","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b9b387c8.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst AppRoute = ({component: Component, can = () => true, redirect, ...rest}) => (\r\n    <Route {...rest} render = {(props) => (\r\n    can() ? <Component {...props} /> : <Redirect to={redirect} />\r\n    )} />\r\n);\r\n\r\nexport default AppRoute;","import axios from 'axios';\r\n\r\nconst Auth = {\r\n    login: user => {\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n        axios.defaults.headers.common['Authorization'] = user.token;\r\n    },\r\n    init: () => {\r\n        let user = JSON.parse(localStorage.getItem('user'));\r\n        axios.defaults.headers.common['Authorization'] = user !== null ? user.token : '';\r\n    },\r\n    auth: () => localStorage.getItem('user') !== null,\r\n    guest: () => localStorage.getItem('user') === null,\r\n    logout: () => {\r\n        delete axios.defaults.headers.common['Authorization'];\r\n        localStorage.removeItem('user');\r\n    },\r\n    getToken: () => {\r\n        let user = JSON.parse(localStorage.getItem('user'));\r\n        return user !== null ? user.token : '' ;\r\n    },\r\n    setUser: (newProfile) => {\r\n        let user = JSON.parse(localStorage.getItem('user'));\r\n        newProfile.token = user.token;\r\n        localStorage.setItem('user', JSON.stringify(newProfile));\r\n    },\r\n};\r\n\r\nexport default Auth;","import React from 'react';\r\nimport { Alert } from 'reactstrap';\r\n\r\nconst Error = props => {\r\n    return (\r\n        props.error ? <Alert color='danger'>{props.error}</Alert> : ''\r\n    );\r\n}\r\n\r\nexport default Error;","import React from 'react';\r\nimport avatar from 'assets/avatar.png';\r\n\r\nconst Avatar = props => {\r\n    let src = props.src ? `uploads/${props.src}` : avatar;\r\n    return <img src={props.file || src} className=\"img-fluid rounded-circle ml-3 avatar\" alt=\"\" />\r\n}\r\n\r\nexport default Avatar;","export default \"data:image/png;base64,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\"","import { Avatar } from 'components';\r\nimport React from 'react';\r\nimport { Row } from 'reactstrap';\r\n\r\nconst ContactHeader = props => (\r\n    <Row className='heading' >\r\n        <Avatar src={props.user.avatar} file=\"\"/>\r\n        <div>جهات الإتصال</div>\r\n        <div className=\"mr-auto nav-link\" onClick={props.toggle}>\r\n            <i className=\"fa fa-bars\" />\r\n        </div>\r\n    </Row>\r\n);\r\n\r\nexport default ContactHeader;","import Avatar from 'components/Avatar';\r\nimport moment from 'moment';\r\nimport React from 'react';\r\nimport { Badge } from 'reactstrap';\r\n\r\nconst Contact = props => (\r\n    <div className='contact'>\r\n        <div>\r\n            <Avatar src={props.contact.avatar} />\r\n            {props.contact.status === true ? <i className=\"fa fa-circle online\" /> : ''}\r\n        </div>\r\n        <div className=\"w-50\">\r\n            <div className=\"name\">{props.contact.name}</div>\r\n            <div className=\"small last-message\">\r\n                {props.message ? props.message.content : 'انقر هنا لبدء المحادثة'}\r\n            </div>\r\n        </div>\r\n        <div className=\"flex-grow-1 text-left\">\r\n            <div className=\"small text-muted\">\r\n                {props.message ? moment(props.message.date).format(\"hh:mm a\") : ''}\r\n            </div>\r\n            {props.unseen > 0 ? <Badge color=\"success\">{props.unseen}</Badge> : ''}\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default Contact;","import React from 'react';\r\nimport { Contact } from 'components';\r\nimport { Row, Input } from 'reactstrap';\r\n\r\nclass Contacts extends React.Component {\r\n\r\n    state = { search: '' }\r\n\r\n    onSearch = e => this.setState({ search: e.target.value })\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"list\">\r\n                <Row className=\"search\">\r\n                    <Input onChange={this.onSearch} placeholder=\"بحث\" />\r\n                </Row>\r\n                <Row id=\"contacts\">\r\n                    {this.props.contacts.map((contact, index) => this.renderContact(contact, index))}\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderContact = (contact, index) => {\r\n        if (!contact.name.includes(this.state.search)) return;\r\n        let messages = this.props.messages.filter(e => e.sender === contact._id || e.receiver === contact._id);\r\n        let lastMessage = messages[messages.length - 1];\r\n        let unseen = messages.filter(e => !e.seen && e.sender === contact._id).length;\r\n        if (lastMessage || (contact.name.includes(this.state.search) && this.state.search)) {\r\n            return (\r\n                <div className='w-100' key={index} onClick={this.props.onChatNavigate.bind(this, contact)} >\r\n                    <Contact contact={contact} message={lastMessage} unseen={unseen} />\r\n                </div>\r\n            );\r\n        }\r\n        return;\r\n\r\n    }\r\n}\r\n\r\nexport default Contacts;","import React from 'react';\r\nimport Auth from 'Auth';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Avatar } from 'components';\r\nimport { Row, DropdownItem, DropdownMenu, DropdownToggle, Nav, UncontrolledDropdown } from 'reactstrap';\r\nimport moment from 'moment';\r\n\r\nconst ChatHeader = props => {\r\n\r\n    const logout = () => {\r\n        console.log(props);\r\n        Auth.logout();\r\n        props.history.push('/');\r\n    };\r\n\r\n    const status = () => {\r\n        if (props.typing) return 'يكتب الآن...';\r\n        if (props.contact.status === true) return 'متصل الآن';\r\n        if (props.contact.status) return moment(props.contact.status).fromNow();\r\n    }\r\n\r\n    return (\r\n        <Row className=\"heading m-0\">\r\n            <div onClick={props.toggle}>\r\n                <Avatar src={props.contact.avatar} />\r\n            </div>\r\n            <div className=\"text-right\">\r\n                <div>{props.contact ? props.contact.name : ''}</div>\r\n                <small>{status()}</small>\r\n            </div>\r\n            <Nav className=\"mr-auto\" navbar>\r\n                <UncontrolledDropdown>\r\n                    <DropdownToggle tag=\"a\" className=\"nav-link\">\r\n                        <i className=\"fa fa-ellipsis-v\" />\r\n                    </DropdownToggle>\r\n                    <DropdownMenu>\r\n                        <DropdownItem onClick={e => props.history.push('/password')}>تغيير كلمة المرور</DropdownItem>\r\n                        <DropdownItem divider />\r\n                        <DropdownItem onClick={logout}>تسجيل خروج</DropdownItem>\r\n                    </DropdownMenu>\r\n                </UncontrolledDropdown>\r\n            </Nav>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default withRouter(ChatHeader);","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nconst Message = props => (\r\n\r\n    <div className={props.message.outgoing ? 'message-item' : 'message-item incoming'}>\r\n        <div className=\"d-flex flex-row\">\r\n            <div className=\"body m-1 mr-2\">\r\n                <div>{props.message.content}</div>\r\n                {props.message.outgoing ? <span className={props.message.seen ? 'blueIcon check' : 'check'}>\r\n                    <i className=\"fa fa-check\" />\r\n                </span> : <span></span>}\r\n                <span className=\"small text-muted\">\r\n                    {moment(props.message.date).format(\"hh:mm a | MMM D\")}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default Message;","import React from 'react';\r\nimport Message from './Message';\r\n\r\nclass Messages extends React.Component {\r\n    render() {\r\n        return (\r\n            <div id=\"messages\">\r\n                {this.props.messages.map((message, index) => this.renderMessage(message, index))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderMessage = (message, index) => {\r\n        message.outgoing = message.receiver !== this.props.user._id;\r\n        return (\r\n            <Message key={index} message={message} />\r\n        );\r\n    }\r\n}\r\n\r\nexport default Messages;","import moment from 'moment';\r\nimport React from 'react';\r\nimport { Input } from 'reactstrap';\r\n\r\nclass MessageForm extends React.Component {\r\n    state = {\r\n        message: '',\r\n        lastType: false\r\n    };\r\n\r\n    onChange = e => this.setState({ message: e.target.value });\r\n\r\n    onSend = e => {\r\n        if (!this.state.message) return;\r\n        let message = {\r\n            content: this.state.message,\r\n            date: new Date().getTime()\r\n        };\r\n        this.props.sender(message);\r\n        this.setState({ message: '' });\r\n    };\r\n\r\n\r\n    // send the message with ENTER key\r\n    //stop typing on send or in 2 sec time between typing\r\n    onKeyDown = e => {\r\n        if (e.key === 'Enter' && !e.shiftKey) {\r\n            this.setState({ lastType: false });\r\n            this.onSend();\r\n            e.preventDefault();\r\n        } else if (!this.state.lastType || moment() - this.state.lastType > 2000) {\r\n            this.setState({ lastType: moment() });\r\n            this.props.sendType();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"send-message\">\r\n                <Input type=\"textarea\" rows=\"1\" onChange={this.onChange} onKeyDown={this.onKeyDown} value={this.state.message} placeholder=\"أكتب رسالة...\" />\r\n                <i className=\"fa fa-send text-muted px-3 send\" onClick={this.onSend} />\r\n            </div>\r\n        );\r\n    };\r\n\r\n}\r\n\r\nexport default MessageForm;","import Avatar from 'components/Avatar';\r\nimport React from 'react';\r\nimport { Row } from 'reactstrap';\r\n\r\n\r\nconst UserProfile = props => (\r\n    <div className={props.open ? 'side-profile open' : 'side-profile'}>\r\n        <Row className=\"heading\">\r\n            <div className=\"mr-2 nav-link\" onClick={props.toggle}>\r\n                <i className=\"fa fa-arrow-right\" />\r\n            </div>\r\n            <div>{props.contact.name}</div>\r\n        </Row>\r\n        <div className=\"d-flex flex-column overflow-auto\">\r\n            <Avatar src={props.contact.avatar} />\r\n            <div className=\"bg-white px-3 py-2\">\r\n                <label className=\"text-muted\">رسالة الحالة</label>\r\n                <p>{props.contact.about ? props.contact.about : \"متاح\"}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default UserProfile;","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Row, Form, Button } from 'reactstrap';\r\nimport Error from 'components/Error';\r\nimport { Avatar } from \"components\";\r\nimport axios from \"axios\";\r\n\r\nclass EditProfile extends React.Component {\r\n    state = {\r\n        name: this.props.user.name,\r\n        about: this.props.user.about,\r\n        avatar: this.props.user.avatar,\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.fileUpload = React.createRef();\r\n    }\r\n\r\n    showFileUpload = e => this.fileUpload.current.click();\r\n\r\n    onChange = e => this.setState({ [e.target.name]: e.target.value, error: null });\r\n\r\n    onImageChange = e => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            this.setState({\r\n                image: URL.createObjectURL(e.target.files[0]),\r\n                avatar: e.target.files[0]\r\n            });\r\n        }\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const data = new FormData();\r\n        data.append('name', this.state.name);\r\n        data.append('about', this.state.about);\r\n        if (this.state.avatar) data.append('avatar', this.state.avatar);\r\n        axios.post('/api/account', data)\r\n            .then(res => {\r\n                this.props.toggle();\r\n                window.location.reload();\r\n            })\r\n            .catch(err => console.log(err));\r\n    };\r\n\r\n    onClose = e => {\r\n        this.setState({ name: this.props.user.name, about: this.props.user.about });\r\n        this.props.toggle();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.props.open ? 'side-profile open' : 'side-profile'}>\r\n\r\n                <Row className=\"heading\">\r\n                    <div className=\"mr-2 nav-link\" onClick={this.onClose}>\r\n                        <i className=\"fa fa-arrow-right\" />\r\n                    </div>\r\n                    <div>الملف الشخصي</div>\r\n                </Row>\r\n\r\n                <div className=\"d-flex flex-column overflow-auto\">\r\n\r\n                    <Form onSubmit={this.onSubmit}>\r\n\r\n                        <Error error={this.state.error} />\r\n\r\n                        <div className=\"text-center\" onClick={this.showFileUpload}>\r\n                            <Avatar src={this.props.user.avatar} file={this.state.image} />\r\n                        </div>\r\n\r\n                        <input type='file' ref={this.fileUpload} onChange={this.onImageChange} className=\"d-none\" />\r\n\r\n                        <div className=\"bg-white px-3 py-2\">\r\n                            <label className=\"text-muted d-block\">الأسم</label>\r\n                            <input className=\"d-block w-100\" value={this.state.name} name=\"name\" onChange={this.onChange} required autoComplete=\"off\" />\r\n                        </div>\r\n\r\n                        <div className=\"bg-white px-3 py-2\">\r\n                            <label className=\"text-muted d-block\">رسالة الحالة</label>\r\n                            <input className=\"d-block w-100\" value={this.state.about ? this.state.about : 'متاح'} name=\"about\" onChange={this.onChange} required autoComplete=\"off\" />\r\n                        </div>\r\n\r\n                        <div className=\"bg-white px-3 py-2\">\r\n                            <Button block className=\"mt-3\">حفظ</Button>\r\n                        </div>\r\n\r\n                    </Form>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(EditProfile);","import Auth from 'Auth';\r\nimport { ChatHeader, ContactHeader, Contacts, Messages, MessageForm, UserProfile, EditProfile } from 'components';\r\nimport React from 'react';\r\nimport { Row, Spinner } from 'reactstrap';\r\nimport socketIO from 'socket.io-client';\r\n\r\nclass Chat extends React.Component {\r\n\r\n    state = {\r\n        user:{},\r\n        contacts: [],\r\n        contact: {},\r\n        userProfile: false,\r\n        profile: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.initSocketConnection();\r\n    }\r\n\r\n    initSocketConnection = () => {\r\n\r\n        let socket = socketIO(process.env.React_APP_SOCKET, {\r\n            query: 'token=' + Auth.getToken()\r\n        });\r\n        socket.on('connect', () => this.setState({ connected: true }));\r\n        socket.on('disconnect', () => this.setState({ connected: false }));\r\n        socket.on('data', (user, contacts, messages, users) => {\r\n            let contact = contacts[0] || {};\r\n            this.setState({ messages, contacts, user, contact }, () => {\r\n                this.updateUsersState(users);\r\n            });\r\n        });\r\n        socket.on('new_user', this.onNewUser);\r\n        socket.on('update_user', this.onUpdateUser);\r\n        socket.on('message', this.onNewMessage);\r\n        socket.on('user_status', this.updateUsersState);\r\n        socket.on('typing', this.onTypingMessage);\r\n        socket.on('error', err => {\r\n            if (err === 'auth_error') {\r\n                Auth.logout();\r\n                this.props.history.push('/login');\r\n            }\r\n        });\r\n        this.setState({ socket });\r\n    }\r\n\r\n    onNewUser = user => {\r\n        let contacts = this.state.contacts.concat(user);\r\n        this.setState({ contacts });\r\n    }\r\n\r\n    onUpdateUser = user => {\r\n        if (this.state.user.id === user.id) {\r\n            this.setState({ user });\r\n            Auth.setUser(user);\r\n            return;\r\n        }\r\n        let contacts = this.state.contacts;\r\n        contacts.forEach((element, index) => {\r\n            if (element.id === user.id) {\r\n                contacts[index] = user;\r\n                contacts[index].status = element.status;\r\n            }\r\n        });\r\n        this.setState({contacts});\r\n        if(this.state.contact.id === user.id) this.setState({contact:user});\r\n    }\r\n\r\n    onNewMessage = message => {\r\n        if (message.sender === this.state.contact._id) {\r\n            this.setState({ typing: false });\r\n            this.state.socket.emit('seen', this.state.contact._id);\r\n            message.seen = true;\r\n        }\r\n        let messages = this.state.messages.concat(message);\r\n        this.setState({ messages });\r\n    }\r\n\r\n    onTypingMessage = sender => {\r\n        if (this.state.contact._id !== sender) return;\r\n        this.setState({ typing: sender });\r\n        clearTimeout(this.state.timeout);\r\n        const timeout = setTimeout(this.typingTimeout, 3000);\r\n        this.setState({ timeout });\r\n    }\r\n\r\n    typingTimeout = () => this.setState({ typing: false });\r\n\r\n    sendMessage = message => {\r\n        if (!this.state.contact._id) return;\r\n        message.receiver = this.state.contact._id;\r\n        let messages = this.state.messages.concat(message);\r\n        this.setState({ messages });\r\n        this.state.socket.emit('message', message);\r\n    }\r\n\r\n    sendType = () => this.state.socket.emit('typing', this.state.contact._id);\r\n\r\n    updateUsersState = users => {\r\n        let contacts = this.state.contacts;\r\n        contacts.forEach((element, index) => {\r\n            if (users[element._id]) contacts[index].status = users[element._id];\r\n        });\r\n        this.setState({ contacts });\r\n        let contact = this.state.contact;\r\n        if (users[contact.id]) contact.status = users[contact.id];\r\n        this.setState({ contact });\r\n    }\r\n\r\n    onChatNavigate = contact => {\r\n        this.setState({ contact });\r\n        this.state.socket.emit('seen', contact._id);\r\n        let messages = this.state.messages;\r\n        messages.forEach((element, index) => {\r\n            if (element.sender === contact._id) messages[index].seen = true;\r\n        })\r\n        this.setState({ messages });\r\n    }\r\n\r\n    userProfileToggle = () => this.setState({ userProfile: !this.state.userProfile });\r\n\r\n    profileToggle = () => {\r\n        this.setState({ profile: !this.state.profile });\r\n    }\r\n\r\n\r\n    render() {\r\n        if (!this.state.connected || !this.state.contacts || !this.state.messages) {\r\n            return (\r\n                <Spinner id=\"loader\" color=\"success\" />\r\n            );\r\n        }\r\n        return (\r\n            <Row className=\"h-100\">\r\n                <div id=\"contacts-section\" className=\"col-6 col-md-4\">\r\n                    <ContactHeader user={this.state.user} toggle={this.profileToggle} />\r\n                    <Contacts\r\n                        contacts={this.state.contacts}\r\n                        messages={this.state.messages}\r\n                        onChatNavigate={this.onChatNavigate}\r\n                    />\r\n                    <UserProfile\r\n                        contact={this.state.contact}\r\n                        toggle={this.userProfileToggle}\r\n                        open={this.state.userProfile}\r\n                    />\r\n                    <EditProfile\r\n                        user={this.state.user}\r\n                        toggle={this.profileToggle}\r\n                        open={this.state.profile}\r\n                    />\r\n                </div>\r\n                <div id=\"messages-section\" className=\"col-6 col-md-8\">\r\n                    <ChatHeader\r\n                        contact={this.state.contact}\r\n                        typing={this.state.typing}\r\n                        toggle={this.userProfileToggle}\r\n                    />\r\n                    {this.renderChat()}\r\n                    <MessageForm sender={this.sendMessage} sendType={this.sendType} />\r\n                </div>\r\n            </Row>\r\n        );\r\n    }\r\n\r\n    renderChat = () => {\r\n        const { contact, user } = this.state;\r\n        if (!contact) return;\r\n        let messages = this.state.messages.filter(e => e.sender === contact._id || e.receiver === contact._id);\r\n        return <Messages user={user} messages={messages} />;\r\n    }\r\n}\r\n\r\nexport default Chat;","import React from 'react';\r\n\r\nconst NotFound = props => {\r\n    return(\r\n        <h3>لا يوجد صفحة لعرضها</h3>\r\n    );\r\n}\r\n\r\nexport default NotFound;","export default __webpack_public_path__ + \"static/media/HangOut.652d6197.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Form, Input, Button } from 'reactstrap';\r\nimport { Error } from 'components';\r\nimport Logo from 'assets/HangOut.png';\r\nimport Auth from 'Auth';\r\nimport axios from 'axios';\r\n\r\n\r\nclass Register extends React.Component {\r\n    state = { name: '', username: '', password: '', error: '' }\r\n\r\n    onChange = e => this.setState({\r\n        [e.target.name]: e.target.value, error: null\r\n    });\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        let data = {\r\n            name: this.state.name,\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }\r\n        axios.post('/api/auth/register', data)\r\n            .then(res => {\r\n                Auth.login(res.data);\r\n                this.props.history.push('/');\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: err.response.data.message })\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Card className=\"auth col-lg-3 col-sm-6\">\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <img src={Logo} alt=\"\" width=\"200\" />\r\n                    <h5 className=\"mb-4\">إنشاء حساب جديد</h5>\r\n                    <Error error={this.state.error} />\r\n                    <Input value={this.state.name} name=\"name\" onChange={this.onChange} placeholder=\"الاسم\" required autoFocus />\r\n                    <Input value={this.state.username} name=\"username\" onChange={this.onChange} placeholder=\"اسم المستخدم\" required />\r\n                    <Input type=\"password\" value={this.state.password} name=\"password\" onChange={this.onChange} placeholder=\"كلمة المرور\" required />\r\n                    <Button color=\"primary\" block className=\"mb-3\"> إنشاء </Button>\r\n                    <small><Link to=\"/login\">تسجيل الدخول</Link></small>\r\n                    <p className=\"m-3 text-muted\">&copy; {new Date().getFullYear()}</p>\r\n                </Form>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Form, Input, Button } from 'reactstrap';\r\nimport { Error } from 'components';\r\nimport Logo from 'assets/HangOut.png';\r\nimport Auth from 'Auth';\r\nimport axios from 'axios';\r\n\r\n\r\nclass Login extends React.Component {\r\n    state = { username: '', password: '', error: '' }\r\n\r\n    onChange = e => this.setState({\r\n        [e.target.name]: e.target.value, error: null\r\n    });A\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        let data = {\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }\r\n        axios.post('/api/auth', data)\r\n            .then(res => {\r\n                Auth.login(res.data);\r\n                this.props.history.push('/');\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"الرجاء التحقق من اسم المستخدم و رقم المرور\"})\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Card className=\"auth col-lg-3 col-sm-6\">\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <img src={Logo} alt=\"\" width=\"200\" />\r\n                    <h5 className=\"mb-4\">تسجيل الدخول</h5>\r\n                    <Error error={this.state.error} />\r\n                    <Input value={this.state.username} name=\"username\" onChange={this.onChange} placeholder=\"اسم المستخدم\" required autoFocus/>\r\n                    <Input type=\"password\" value={this.state.password} name=\"password\" onChange={this.onChange} placeholder=\"كلمة المرور\" required />\r\n                    <Button color=\"primary\" block className=\"mb-3\"> فتح </Button>\r\n                    <small><Link to=\"/register\">إنشاء حساب جديد</Link></small>\r\n                    <p className=\"m-3 text-muted\">&copy; {new Date().getFullYear()}</p>\r\n                </Form>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Form, Input, Button } from 'reactstrap';\r\nimport { Error } from 'components';\r\nimport axios from 'axios';\r\nimport logo from 'assets/HangOut.png';\r\n\r\nclass Password extends React.Component{\r\n\r\n    state ={\r\n        password:'',\r\n        newPassword:''\r\n    };\r\n\r\n    onChange = e =>this.setState({\r\n        [e.target.name]: e.target.value, error:null\r\n    });\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        let data = {password: this.state.password, newPassword:this.state.newPassword};\r\n        axios.post('/api/account/password', data)\r\n        .then(res => {\r\n            this.props.history.push('/')\r\n        })\r\n        .catch(err => {\r\n            this.setState({error:err.response.data.message});\r\n        });\r\n    };\r\n\r\n    render(){\r\n        return(\r\n            <Card className=\"auth col-lg-3 col-sm-6\">\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <img src={logo} alt=\"\" width=\"200\" />\r\n                    <h5 className=\"mb-4\">تغيير كلمة المرور</h5>\r\n                    <Error error={this.state.error} />\r\n                    <Input type=\"password\" value={this.state.password} name=\"password\" onChange={this.onChange} placeholder=\"كلمة المرور القديمة\" required />\r\n                    <Input type=\"password\" value={this.state.newPassword} name=\"newPassword\" onChange={this.onChange} placeholder=\"كلمة المرور الجديدة\" required />\r\n                    <Button block className=\"mb-3\">تغيير</Button>\r\n                    <small><Link to='/'>عودة</Link></small>\r\n                    <p className=\"mt-3 mb-3 text-muted\">&copy; 2021</p>\r\n                </Form>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Password;","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\nimport AppRoute from 'AppRoute';\nimport { Chat, Login, NotFound, Register, Password } from 'views';\nimport Auth from 'Auth';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    Auth.init();\n  }\n\n  render() {\n    return (\n      <div id=\"main-container\" className=\"container-fluid\">\n        <Router>\n          <Switch>\n            <AppRoute path='/' exact component={Chat} can={Auth.auth} redirect='/login' />\n            <AppRoute path='/password' component={Password} can={Auth.auth} redirect='/login'/>\n            <AppRoute path='/register' component={Register} can={Auth.guest} redirect='/'/>\n            <AppRoute path='/login' component={Login} can={Auth.guest} redirect='/' />\n            <AppRoute component={NotFound} />\n          </Switch>\n        </Router>\n      </div >\n    );\n  }\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'moment/locale/ar';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}